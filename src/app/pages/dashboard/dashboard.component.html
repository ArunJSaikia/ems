<div class="dashboard-container">
  <header class="dashboard-header">
    <div class="action-bar">
      <h1>Employee Dashboard</h1>
      <button class="btn btn-primary" (click)="navigateToAddEmployee()">
        <i class="icon-plus"></i>
        + &nbsp;&nbsp;Add New Employee
      </button>
    </div>
    <div class="header-stats">
      <div class="stat-card">
        <span class="stat-number">{{ totalEmployees }}</span>
        <span class="stat-label">Total Employees</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">{{ activeEmployees }}</span>
        <span class="stat-label">Active</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">{{ totalEmployees - activeEmployees }} </span>
        <span class="stat-label">Inactive</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">{{ departments.length }}</span>
        <span class="stat-label">Departments</span>
      </div>
    </div>
  </header>

  <div class="dashboard-content">
    <div class="filters-bar">
      <div class="department-filter">
        <label for="department-select"> Department</label>
        <select
          [(ngModel)]="selectedDepartment"
          (change)="onDepartmentFilter()"
        >
          <option value="">All Departments</option>
          <option *ngFor="let dept of departments" [value]="dept">
            {{ dept }}
          </option>
        </select>
      </div>
      <div class="search-bar">
        <label for="search-input">Search</label>
        <div style="position: relative">
          <input
            type="text"
            placeholder="Search employees..."
            [(ngModel)]="searchTerm"
            (input)="onSearch($event)"
          />
          <img src="icon/search_blue_reverse.png" alt="search-icon" />
        </div>
      </div>
      <div class="export-buttons">
        <button
          class="export-btn excel-btn"
          (click)="exportToExcel()"
          title="Export to Excel"
          [disabled]="filteredEmployees.length === 0"
        >
          <i class="fas fa-file-excel"></i>
          Excel
        </button>

        <button
          class="export-btn csv-btn"
          (click)="exportToCsv()"
          title="Export to CSV"
          [disabled]="filteredEmployees.length === 0"
        >
          <i class="fas fa-file-csv"></i>
          CSV
        </button>
      </div>
    </div>

    <app-employee-list
      [employees]="filteredEmployees"
      (editEmployee)="onEditEmployee($event)"
      (deleteEmployee)="onDeleteEmployee($event)"
    >
    </app-employee-list>
  </div>
</div>
